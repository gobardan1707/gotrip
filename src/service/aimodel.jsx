import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
});

const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
};


export const chatSession = model.startChat({
    generationConfig,
    history: [
        {
            role: "user",
            parts: [
                { text: "generate travel plan for location : las vegas,for 3 days for couple with a cheap budget, give em a hotels options list with hotelname, hotel addresss ,price , hotel image url , geo coordinates , rating , descriptions and suggest itinerary with placename , place details , place image url , geo coordinates , ticket pricing , time to travel each of the location for 3 days with each day plan with best time to visit in JSON format " },
            ],
        },
        {
            role: "model",
            parts: [
                { text: "Okay, here's a JSON-formatted travel plan for a couple on a budget in Las Vegas for 3 days. I've focused on free or low-cost activities and affordable accommodations. \n\n```json\n{\n  \"trip_name\": \"Las Vegas Budget Getaway\",\n  \"duration\": \"3 Days\",\n  \"travelers\": \"Couple\",\n  \"budget\": \"Cheap\",\n  \"hotel_options\": [\n    {\n      \"hotel_name\": \"Circus Circus Hotel & Casino\",\n      \"hotel_address\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night\",\n       \"hotel_image_url\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/27/70/7e/2d/circus-circus-hotel-casino.jpg?w=700&h=-1&s=1\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.1394,\n        \"longitude\": -115.1644\n      },\n       \"rating\": 3.5,\n      \"description\": \"A classic Las Vegas hotel with a family-friendly atmosphere, offering basic rooms at budget-friendly prices. Features include the Adventuredome theme park and free circus acts.\"\n    },\n      {\n      \"hotel_name\": \"Excalibur Hotel & Casino\",\n      \"hotel_address\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $90 per night\",\n       \"hotel_image_url\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/27/88/36/b1/excalibur-hotel-casino.jpg?w=700&h=-1&s=1\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.0985,\n        \"longitude\": -115.1743\n      },\n       \"rating\": 4,\n      \"description\": \"A medieval-themed hotel on the Strip with affordable rooms and various entertainment options. It's a good option for those looking for a themed experience on a budget.\"\n    },\n     {\n      \"hotel_name\": \"OYO Hotel and Casino Las Vegas\",\n      \"hotel_address\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n      \"price\": \"$35 - $70 per night\",\n       \"hotel_image_url\":\"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/26/80/5c/6f/oyo-hotel-casino-las.jpg?w=700&h=-1&s=1\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.1016,\n        \"longitude\": -115.1680\n      },\n       \"rating\": 3,\n      \"description\": \"Formerly the Hooters Hotel, this hotel offers simple, budget-friendly accommodations close to the Strip. It's a basic option for those who prioritize location and cost.\"\n    }\n\n  ],\n   \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip & Free Attractions\",\n       \"best_time_to_visit\": \"Late afternoon/Evening\",\n      \"places\": [\n        {\n          \"place_name\": \"Bellagio Conservatory & Botanical Gardens\",\n           \"place_details\": \"A stunning indoor garden display that changes seasonally. A must-see free attraction.\",\n           \"place_image_url\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Bellagio_Conservatory_and_Botanical_Garden_-_Las_Vegas_-_July_2017_-_33.jpg/800px-Bellagio_Conservatory_and_Botanical_Garden_-_Las_Vegas_-_July_2017_-_33.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1743\n          },\n          \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"Short walk from most Strip hotels\"\n        },\n        {\n           \"place_name\": \"Fountains of Bellagio\",\n          \"place_details\": \"Spectacular free water show with music and lights. Check the schedule for show times.\",\n          \"place_image_url\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d9/Bellagio_Fountains_from_afar.jpg/1280px-Bellagio_Fountains_from_afar.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1126,\n            \"longitude\": -115.1744\n          },\n          \"ticket_pricing\": \"Free\",\n           \"time_to_travel\": \"Right outside the Bellagio Hotel\"\n        },\n          {\n          \"place_name\": \"Walking the Las Vegas Strip\",\n          \"place_details\": \"Experience the vibrant atmosphere and lights of the Strip. It's free and you can enjoy the spectacle of each hotel's exterior.\",\n            \"place_image_url\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Las_Vegas_Strip_from_high.jpg/1280px-Las_Vegas_Strip_from_high.jpg\",\n          \"geo_coordinates\": {\n              \"latitude\": 36.1162,\n            \"longitude\": -115.1729\n          },\n           \"ticket_pricing\": \"Free\",\n          \"time_to_travel\": \"Just start walking!\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Vegas & Free Shows\",\n        \"best_time_to_visit\": \"Afternoon/Evening\",\n      \"places\": [\n         {\n          \"place_name\": \"Fremont Street Experience\",\n          \"place_details\": \"A pedestrian mall in downtown Las Vegas with a large video canopy. Offers free light shows and live music.\",\n             \"place_image_url\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/b/b6/Fremont_Street_Experience.jpg/1280px-Fremont_Street_Experience.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1702,\n            \"longitude\": -115.1417\n          },\n          \"ticket_pricing\": \"Free\",\n           \"time_to_travel\": \"About 15-20 minutes by car or bus from the Strip\"\n        },\n          {\n          \"place_name\": \"Container Park\",\n          \"place_details\": \"An outdoor shopping and entertainment area made of shipping containers. Great for photos and experiencing a different side of Vegas.\",\n            \"place_image_url\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/Downtown_Las_Vegas_Container_Park.jpg/1024px-Downtown_Las_Vegas_Container_Park.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1680,\n            \"longitude\": -115.1411\n          },\n           \"ticket_pricing\":\"Free to enter (cost for shopping/dining)\",\n            \"time_to_travel\": \"Short walk from Fremont Street\"\n        },\n         {\n           \"place_name\": \"Street Art in Downtown\",\n           \"place_details\": \"Explore the murals and street art in the Arts District of downtown Vegas.\",\n             \"place_image_url\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/9/92/Street_Art_in_Downtown_Las_Vegas.jpg/1280px-Street_Art_in_Downtown_Las_Vegas.jpg\",\n           \"geo_coordinates\": {\n            \"latitude\": 36.1668,\n             \"longitude\": -115.1516\n          },\n           \"ticket_pricing\": \"Free\",\n           \"time_to_travel\":\"short walk from downtown\"\n        }\n      ]\n    },\n    \"day3\": {\n        \"theme\": \"Relaxing & Scenic Views\",\n        \"best_time_to_visit\":\"Morning/Afternoon\",\n      \"places\": [\n          {\n          \"place_name\": \"Red Rock Canyon National Conservation Area (Scenic Drive)\",\n           \"place_details\": \"Enjoy a scenic drive through the stunning red rock landscapes. Entry fee applies per vehicle. \",\n             \"place_image_url\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Red_Rock_Canyon_Park_Near_Las_Vegas_Nevada.jpg/1280px-Red_Rock_Canyon_Park_Near_Las_Vegas_Nevada.jpg\",\n            \"geo_coordinates\": {\n            \"latitude\": 36.1395,\n            \"longitude\": -115.4159\n          },\n            \"ticket_pricing\": \"$15 per vehicle\",\n           \"time_to_travel\": \"About 30-40 minutes by car from the Strip\"\n          },\n        {\n          \"place_name\": \"The LINQ Promenade\",\n          \"place_details\": \"A vibrant outdoor shopping and dining area with the High Roller observation wheel. You can walk around without charge. \",\n             \"place_image_url\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/7/71/The_LINQ_Promenade_and_High_Roller_in_Las_Vegas.jpg/1280px-The_LINQ_Promenade_and_High_Roller_in_Las_Vegas.jpg\",\n           \"geo_coordinates\": {\n              \"latitude\": 36.1153,\n            \"longitude\": -115.1700\n          },\n          \"ticket_pricing\": \"Free to walk around (cost for rides/shopping/dining)\",\n            \"time_to_travel\": \"Located on the Strip\"\n        },\n       {\n           \"place_name\": \"Free Hotel Attractions\",\n          \"place_details\": \"Explore some of the free attractions inside major hotels such as the wildlife habitat at Flamingo or the mermaid shows at Silverton.\",\n           \"place_image_url\":\"https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Flamingo_Las_Vegas_Wildlife_Habitat_01.jpg/1280px-Flamingo_Las_Vegas_Wildlife_Habitat_01.jpg\",\n          \"geo_coordinates\": {\n              \"latitude\": 36.1184,\n            \"longitude\": -115.1723\n          },\n          \"ticket_pricing\": \"Free\",\n           \"time_to_travel\": \"Various locations on the Strip\"\n        }\n      ]\n    }\n  }\n}\n```\n**Important Notes for Budget Travel:**\n\n*   **Transportation:** Use the Deuce bus or walk whenever possible to save on taxi/rideshare costs. Consider a 24-hour bus pass.\n*   **Food:** Look for affordable dining options like pizza slices, food court meals, and buffets (some offer lunch specials). Consider bringing some snacks and drinks to save money.\n*   **Free Activities:**  Las Vegas has a surprising amount of free entertainment, so take advantage!\n*   **Hotel Prices:**  Prices can vary significantly based on the time of year and day of the week. Check for deals online. Consider staying off-Strip for better rates.\n*   **Hydration:** Las Vegas is very dry. Bring a refillable water bottle to stay hydrated.\n*   **Check Show Schedules:** Fountains, free shows, and events have schedules, so double-check times before you go.\n*   **Walking Shoes:** You will do a lot of walking in Las Vegas. Comfortable shoes are a must!\n\nEnjoy your budget-friendly trip to Las Vegas! Let me know if you have other questions.\n" },
            ],
        },
    ],
});
